import{C as e,N as t,S as n,_ as r,b as i,g as a,i as o,k as s,r as c,t as l,v as u}from"./state-keys-DqPmaBTd.js";async function d(d={}){let f=d.logger??o({phase:`post`}),p=t(l.SHOULD_SAVE_CACHE),m=t(l.CACHE_SAVED),h=t(l.SESSION_ID)||null;if(f.debug(`Post-action state`,{shouldSaveCache:p,cacheSaved:m,sessionId:h}),p!==`true`){f.info(`Skipping post-action: event was not processed`,{shouldSaveCache:p});return}if(m===`true`){f.info(`Skipping post-action: cache already saved by main action`,{cacheSaved:m});return}try{await c({components:{agentIdentity:`github`,repo:r(),ref:a(),os:e()},runId:u(),logger:f,storagePath:n(),authPath:i()})?f.info(`Post-action cache saved`,{sessionId:h}):f.info(`Post-action: no cache content to save`,{sessionId:h})}catch(e){f.warning(`Post-action cache save failed (non-fatal)`,{error:s(e)})}}await d();export{d as runPost};